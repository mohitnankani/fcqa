{"version":3,"file":"viz-simple-charts.js","sources":["../../dependency-sets/viz-simple-charts/components/super-viz-sparkline/viz-sparkline.js","../../dependency-sets/viz-simple-charts/components/super-viz-pie-chart/viz-pie-chart.js","../../.ðŸ’©/dependency-sets/viz-simple-charts/templates.js","../../src/config/base-component.js"],"sourcesContent":["import {Component} from 'base-component';\r\n// #-----------------------------------------# //\r\n// #---- Component (super-viz-sparkline) ----# //\r\n\r\n// props is the directive's isolate scope object\r\n// http://onehungrymind.com/angularjs-sticky-notes-pt-2-isolated-scope\r\nconst props = {\r\n\tinputData: '=',\r\n\twidthOverride: '=',\r\n\theightOverride: '='\r\n};\r\n\r\n// directive definition object overrides\r\nconst config = {\r\n\t// transclude: true\r\n};\r\n\r\n/*@ngInject*/\r\nfunction vizSparkline() {\r\n\r\n\tclass VizSparkline extends Component {\r\n\t\t/*@ngInject*/\r\n\t\tcontroller($scope, $log) {\r\n\t\t\t// view model for tracking state\r\n\t\t\tconst vm = $scope.vm = { // eslint-disable-line no-unused-vars\r\n\t\t\t};\r\n\r\n\t\t\t// behavior that needs to be bound to the view\r\n\t\t\tconst go = $scope.go = { // eslint-disable-line no-unused-vars\r\n\t\t\t\tclick(evt) {\r\n\t\t\t\t\tvm.test = $scope.text;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tif (!$scope.inputData || !Array.isArray($scope.inputData)) {\r\n\t\t\t\t$log.error('sparkline expects an array');\r\n\t\t\t} else if ($scope.inputData.length < 0) {\r\n\t\t\t\t$log.warn('sparkline expects an array of non-zero values');\r\n\t\t\t} else {\r\n\t\t\t\tvm.highchartConfig = makeHighchartConfig($scope.inputData);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction makeHighchartConfig(arrayOfNumbers, widthOverride, heightOverride) {\r\n\t\treturn {\r\n\r\n\t\t\tchart: {\r\n\t\t\t\trenderTo: 'container',\r\n\t\t\t\tmargin: [0, 0, 0, 0],\r\n\t\t\t\tbackgroundColor: 'transparent',\r\n\t\t\t\twidth: widthOverride || 80,\r\n\t\t\t\theight: heightOverride || 50\r\n\t\t\t},\r\n\t\t\ttitle: {\r\n\t\t\t\ttext: ''\r\n\t\t\t},\r\n\t\t\tcredits: {\r\n\t\t\t\tenabled: false\r\n\t\t\t},\r\n\t\t\txAxis: {\r\n\t\t\t\tlabels: {\r\n\t\t\t\t\tenabled: false\r\n\t\t\t\t},\r\n\t\t\t\tcategories: [''] // Note: I wouldn't recommend this for any highchart widget besides the sparkline. But in this case, I am trying to silence the superVizHighchartsWrap warnings about not having categories. Because this is probably the one case were it's actually okay.\r\n\t\t\t},\r\n\t\t\tyAxis: {\r\n\t\t\t\tmaxPadding: 0,\r\n\t\t\t\tminPadding: 0,\r\n\t\t\t\tgridLineWidth: 0,\r\n\t\t\t\tendOnTick: false,\r\n\t\t\t\tlabels: {\r\n\t\t\t\t\tenabled: false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tlegend: {\r\n\t\t\t\tenabled: false\r\n\t\t\t},\r\n\t\t\ttooltip: {\r\n\t\t\t\tenabled: false\r\n\t\t\t},\r\n\t\t\tplotOptions: {\r\n\t\t\t\tseries: {\r\n\t\t\t\t\tanimation: false,\r\n\t\t\t\t\tenableMouseTracking: false,\r\n\t\t\t\t\tlineWidth: 1,\r\n\t\t\t\t\tshadow: false,\r\n\t\t\t\t\tstates: {\r\n\t\t\t\t\t\thover: {\r\n\t\t\t\t\t\t\tlineWidth: 1\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmarker: {\r\n\t\t\t\t\t\t//enabled:false,\r\n\t\t\t\t\t\tradius: 0,\r\n\t\t\t\t\t\tstates: {\r\n\t\t\t\t\t\t\thover: {\r\n\t\t\t\t\t\t\t\tradius: 2\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tseries: [{\r\n\t\t\t\tdata: arrayOfNumbers\r\n\t\t\t}]\r\n\r\n\t\t};\r\n\t}\r\n\r\n\treturn new VizSparkline(props, 'viz-sparkline', config);\r\n}\r\n\r\n// #-- END Component (super-viz-sparkline) --# //\r\n// #-----------------------------------------# //\r\n\r\nangular.module('super-suit-components').directive('superVizSparkline', vizSparkline);\r\n\r\n","import {Component} from 'base-component';\r\n// #-----------------------------------------# //\r\n// #---- Component (super-viz-pie-chart) ----# //\r\n\r\n// props is the directive's isolate scope object\r\n// http://onehungrymind.com/angularjs-sticky-notes-pt-2-isolated-scope\r\nconst props = {\r\n\twidgetTitle: '@', // The business-case title of the dashboard widget\r\n\tapi: '@', // The endpoint that is serving the data for this dashboard widget\r\n\tnextRoute: '@', // The route that the user will be sent to if they click the 'See More...' link at the bottom.\r\n\tnextRouteTitle: '@', // The title of the link at the bottom\r\n\tattrForSectionTitle: '=', // The attribute from the api result that we will map to the pie chart sections\r\n\tattrForSectionValue: '=', // The attribute from the api result that we will map to the pie chart values\r\n\tmutationFunction: '@' // The mutation function you need to massage the api data into the right result\r\n};\r\n\r\n// directive definition object overrides\r\nconst config = {\r\n\t// transclude: true\r\n};\r\n\r\nconst defaultConfig = {\r\n\tchart: {\r\n\t\tplotBackgroundColor: null,\r\n\t\tplotBorderWidth: null,\r\n\t\tplotShadow: false,\r\n\t\ttype: 'pie'\r\n\t},\r\n\t// tooltip: {\r\n\t//     pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'\r\n\t// },\r\n\ttitle: {\r\n\t\ttext: '' // Default it, so that it doesn't show up as 'Chart Title'\r\n\t},\r\n\tplotOptions: {\r\n\t\tpie: {\r\n\t\t\tallowPointSelect: true,\r\n\t\t\tcursor: 'pointer',\r\n\t\t\tdataLabels: {\r\n\t\t\t\tenabled: true,\r\n\t\t\t\tformat: '<b>{point.name}</b>: {point.percentage:.1f} %',\r\n\t\t\t\tstyle: {\r\n\t\t\t\t\tcolor: 'black'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tshowInLegend: true\r\n\t\t}\r\n\t},\r\n\tseries: [{\r\n\t\tname: 'Brands',\r\n\t\tcolorByPoint: true,\r\n\t\t// innerSize: '70%', // Note: innerSize cuts the 'hole' into the 'donut' chart\r\n\t\t// data: [] // <-- this get's populated via the component props\r\n\t}]\r\n};\r\n\r\nconst mockEndpointData = [\r\n\t{\r\n\t\t// The type of object being returned. Namespace types with your IDM product id.\r\n\t\t'type': 'productId:timesheetReviewStatus',\r\n\r\n\t\t// Globally unique identifier\r\n\t\t//     If the data in your payload doesn't have a 'real' unique ID from a database that\r\n\t\t//     can be used, the server will need to generate a globally unique id (GUID) for\r\n\t\t//     the response.\r\n\t\t'id' : '077b2871-37c0-4dca-9e16-fe0c7d97ce87',\r\n\r\n\t\t// Attributes can contain any number of properties needed to describe the data. However,\r\n\t\t//     once attributes are present, removing them will likely break Pact tests\r\n\t\t// Attributes can contain any primitive value (ie. number, string, bool), dates should\r\n\t\t//     follow this recommendation http://jsonapi.org/recommendations/#date-and-time-fields\r\n\t\t'attributes': {\r\n\t\t\t'timeStatus':  'Pending',\r\n\t\t\t'current': 4,\r\n\t\t\t'persentOfGoal': 105\r\n\t\t}\r\n\t}, {\r\n\t\t'type': 'productId:timesheetReviewStatus',\r\n\t\t'id' : '177b2871-4dca-37c0-9e16-fe0c7d97ce88',\r\n\t\t'attributes': {\r\n\t\t\t'timeStatus':  'Submitted',\r\n\t\t\t'current': 7,\r\n\t\t\t'persentOfGoal': 25\r\n\t\t}\r\n\t}, {\r\n\t\t'type': 'productId:timesheetReviewStatus',\r\n\t\t'id' : '877b2871-37c0-9e16-4dca-fe0c7d97ce89',\r\n\t\t'attributes': {\r\n\t\t\t'timeStatus':  'Approved',\r\n\t\t\t'current': 12,\r\n\t\t\t'persentOfGoal': 76\r\n\t\t}\r\n\t}, {\r\n\t\t'type': 'productId:timesheetReviewStatus',\r\n\t\t'id' : '377b2871-9e16-4dca-37c0-fe0c7d97ce90',\r\n\t\t'attributes': {\r\n\t\t\t'timeStatus':  'Waiting',\r\n\t\t\t'current': 8,\r\n\t\t\t'persentOfGoal': 23\r\n\t\t}\r\n\t}, {\r\n\t\t'type': 'productId:timesheetReviewStatus',\r\n\t\t'id' : '877b2871-9e16-37c0-4dca-fe0c7d97ce91',\r\n\t\t'attributes': {\r\n\t\t\t'timeStatus':  'Rejected',\r\n\t\t\t'current': 16,\r\n\t\t\t'persentOfGoal': 89\r\n\t\t}\r\n\t}\r\n];\r\n\r\n\r\n/*@ngInject*/\r\nfunction vizPieChart() {\r\n\r\n\tclass VizPieChart extends Component {\r\n\t\t/*@ngInject*/\r\n\t\tcontroller($scope, $http, $log) {\r\n\t\t\tlet highchartInput = Object.assign({}, defaultConfig);\r\n\r\n\t\t\t// TODO: get the data from an actual $http endpoint\r\n\t\t\tlet endpointData = mockEndpointData;\r\n\r\n\t\t\tif(!$scope.widgetTitle){\r\n\t\t\t\t$log.warn('$scope.widgetTitle is expected for a Pie Chart.');\r\n\t\t\t} else {\r\n\t\t\t\thighchartInput.title.text = $scope.widgetTitle;\r\n\t\t\t}\r\n\r\n\t\t\tif(!$scope.nextRoute){\r\n\t\t\t\t$log.warn('$scope.nextRoute is an expected field');\r\n\t\t\t}\r\n\t\t\tif(!$scope.nextRouteTitle){\r\n\t\t\t\t$log.warn('$scope.nextRouteTitle is an expected field');\r\n\t\t\t}\r\n\r\n\t\t\tvar pieDataPoints = endpointData.map(dataPoint => {\r\n\t\t\t\tvar aPieSection = {};\r\n\t\t\t\tif(dataPoint && dataPoint.attributes && dataPoint.attributes[$scope.attrForSectionTitle]){\r\n\t\t\t\t\taPieSection.name = dataPoint.attributes[$scope.attrForSectionTitle];\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$log.warn('A dataPoint did not have the expected attribute called ' + $scope.attrForSectionTitle);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(dataPoint && dataPoint.attributes && dataPoint.attributes[$scope.attrForSectionValue]){\r\n\t\t\t\t\taPieSection.y = dataPoint.attributes[$scope.attrForSectionValue];\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$log.warn('A dataPoint did not have the expected attribute called ' + $scope.attrForSectionValue);\r\n\t\t\t\t}\r\n\t\t\t\treturn aPieSection;\r\n\t\t\t});\r\n\r\n\t\t\thighchartInput.series[0].data = pieDataPoints;\r\n\r\n\t\t\tconst vm = $scope.vm = { // eslint-disable-line no-unused-vars\r\n\t\t\t\thighchartInput: highchartInput,\r\n\t\t\t\twidgetTitle: $scope.widgetTitle,\r\n\t\t\t\tnextRoute: $scope.nextRoute,\r\n\t\t\t\tnextRouteTitle: $scope.nextRouteTitle\r\n\t\t\t};\r\n\r\n\t\t\tconst go = $scope.go = { // eslint-disable-line no-unused-vars\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\treturn new VizPieChart(props, 'viz-pie-chart', config);\r\n}\r\n\r\n// #-- END Component (super-viz-pie-chart) --# //\r\n// #-----------------------------------------# //\r\n\r\nangular.module('super-suit-components').directive('superVizPieChart', vizPieChart);\r\n","(function(e){try{e=angular.module(\"super-templates\")}catch(t){e=angular.module(\"super-templates\",[])}e.run([\"$templateCache\",function(c){c.put('components/super-viz-pie-chart/viz-pie-chart.html',`<div class=\"super-viz-pie-chart\"><highchart config=\"vm.highchartInput\"></highchart><a ng-href=\"{{vm.nextRoute}}\">{{vm.nextRouteTitle}}</a></div>`);c.put('components/super-viz-sparkline/viz-sparkline.html',`<div class=\"super-viz-sparkline\"><super-viz-highcharts-wrap config=\"vm.highchartConfig\"></super-viz-highcharts-wrap></div>`);}])}())","export class Component {\r\n\tconstructor(props, cmptName, config = {}) {\r\n\r\n\t\tthis.restrict = 'E';\r\n\t\tthis.replace = true;\r\n\t\tthis.scope = props;\r\n\t\tthis.templateUrl = `components/super-${cmptName}/${cmptName}.html`;\r\n\r\n\t\tObject.assign(this, config);\r\n\t}\r\n}\r\n"],"names":["e","angular","module","t","run","c","put","props","cmptName","config","restrict","replace","scope","templateUrl","assign","defaultConfig","mockEndpointData","directive","VizPieChart","$scope","$http","$log","highchartInput","Object","widgetTitle","title","text","warn","nextRoute","nextRouteTitle","pieDataPoints","endpointData","map","aPieSection","dataPoint","attributes","attrForSectionTitle","name","attrForSectionValue","y","series","data","vm","go","Component","makeHighchartConfig","arrayOfNumbers","widthOverride","heightOverride","VizSparkline","test","inputData","Array","isArray","length","highchartConfig","error"],"mappings":"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"}